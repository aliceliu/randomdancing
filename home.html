
<!DOCTYPE html>
<html>
<head>
    <title>RANDOM DANCING</title>
    <style>
      h1 {
          text-align: center;
      }
      
      p {
          text-align: center;
      }
      
      #goal {
          text-align: center;
      }
      
      #back {
          background-image: url('http://www.pptback.com/uploads/3d-dance-party-backgrounds-powerpoint.jpg');
          width: 1500px;
          height: 725px;
      }
      #song {
          width: 160px;
      }
      #theForm {
          text-align: center;
      }
      #submit {
          margin: 20px;
      }
    </style>
  
</head>
<body>
    <div id="back">
    <h1>RANDOM DANCING</h1>
    <p id="goal">This webapp was made to get my (and hopefully your) lazy bum off that chair for a few minutes</p>
    <form action="/" id="theForm">
        <p> Choose how often you will dance for:
        <select id="freq">
            <option value="frequently">Frequently</option>
            <option value="occasionally">Occasionally</option>
            <option value="rarely">Rarely</option>
        </select>
        Choose how long it will last:
        <select id="duration">
            <option value="1">1 Min</option>
            <option value="5">5 Min</option>
            <option value="10">10 Min</option>
            <option value="15">15 Min</option> 
            <option value="30">30 Min</option> 
        </select>
        Choose playlist:
        <select id="plist" onchange="addPlaylist()">
            <option value="default">Default</option>
            <option value="own">Custom</option>
        </select></p>
        
        <div id="pplist">
        	<input type="text" id="song" placeholder="Enter ID of Youtube video"> 
        </div>
        
        
        <div id="submit">
        <input type="submit" value="Let's do this!">
        </div>

        
    
    </form>
    
    <div id="empty">
    
    </div>
    
    </div>


    
    
    
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
    <script>
        
        
        function addPlaylist() {
            if ($('#plist').val() == 'own') {
            	$('#pplist').show();
            }
            else {
                $('#pplist').hide();
            }
        };
       
            	
        function insertVideo() {
            alert('RANDOM DANCING!!!');
            var plist = $('#plist').val();
            if (plist == 'default') {
            	var html = '<center><object id="vid" width="560" height="315"><param name="movie" value="https://www.youtube.com/v/BVnKyQIx4bA?hl=en_US&amp;version=3&loop=1&playlist=BVnKyQIx4bA&autoplay=1&enablejsapi=1"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="https://www.youtube.com/v/BVnKyQIx4bA?hl=en_US&amp;version=3&loop=1&playlist=BVnKyQIx4bA&autoplay=1&enablejsapi=1" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object></center>';
            	$('#empty').html(html);
            }
            else {
                var id = $('#song').val();
                if (!id) {
                    alert('Please input a Youtube playlist or video ID');
                }
                var html = '<center><object id="vid" width="560" height="315"><param name="movie" value="https://www.youtube.com/v/' + id + '?hl=en_US&amp;version=3&loop=1&playlist=' + id + '&autoplay=1&enablejsapi=1"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="https://www.youtube.com/v/' + id + '?hl=en_US&amp;version=3&autoplay=1&loop=1&playlist=' + id + '&enablejsapi=1" type="application/x-shockwave-flash" width="560" height="315" allowscriptaccess="always" allowfullscreen="true"></embed></object></center>';
                
            	$('#empty').html(html);
                
            }
            
            var duration = parseInt($('#duration').val()) * 60 * 1000; 
            
            
            setTimeout('removeVideo()', duration);
            return false;
        };
        
        function removeVideo() {
            $('#empty').html('<p>Waiting...Now go back to work!</p>');
            randomInsert();
            //return false;
        };
            
        function randomInsert() {
            var freq = $('#freq').val();
            if (freq == 'frequently') {
                var interval = Math.random() * 60 * 60 * 1000;
            }
            else if (freq == 'occasionally') {
                interval = Math.random() * 60 * 60 * 1000 * 2;
            }
            else {
                interval = Math.random() * 60 * 60 * 1000 * 3;
            }
            
            setTimeout('insertVideo()', interval);
               
        };
        
        
        $(function() {
            $('#theForm').submit(function() {
            	insertVideo();
            	return false
            });
            $('#pplist').hide();
            var duration = parseInt($('#duration').value) * 60 * 1000;
            setTimeout('randomInsert()', duration);
        });
    </script>
</body>
</html>